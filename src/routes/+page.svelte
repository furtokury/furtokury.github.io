<script>
  import { onMount } from "svelte";
  import FadeInAnimation from "./FadeInAnimation.svelte";

  let ageSpan;

  const birthDate = new Date("2025-01-27T00:00:00"); // í† ì¿ ì˜ ìƒì¼
  let decimalPoints = 0;
  let decimalPointsTarget = 0;

  function calculateAge(birthDate) {
    const today = new Date();
    const age = (today - birthDate) / (1000 * 60 * 60 * 24 * 365.25);
    return age.toFixed(decimalPoints);
  }

  function ageSpanMouseEnter() {
    decimalPointsTarget = 10;
  }

  function ageSpanMouseLeave() {
    decimalPointsTarget = 0;
  }

  onMount(() => {
    const interval = setInterval(() => {
      if (ageSpan) {
        ageSpan.textContent = calculateAge(birthDate);
      }

      decimalPoints = (decimalPointsTarget - decimalPoints) * 0.02 + decimalPoints;
    });

    if (ageSpan) {
      ageSpan.textContent = calculateAge(birthDate);
    }

    return () => clearInterval(interval);
  });
</script>

<svelte:head>
  <meta property="og:title" content="TOKU" />
</svelte:head>

<div class="banner">
  <img class="banner-image" src="/images/banner.jpg" alt="Banner">
  <div class="banner-overlay">
    <div class="banner-overlay-text">
      <div class="banner-scroll-down">SCROLL DOWN</div>
    </div>
  </div>
</div>
<FadeInAnimation>
  <div class="container">
    <div class="description-header">
      <img src="/images/logo.svg" alt="TOKU Logo" width="15">
      <div>FUR<strong>TOKU</strong>RY</div>
    </div>
    <div class="description-text">
      <div>â€œ ë§ì°¨ ì¡±ì œë¹„ í† ì¿  â€</div>
      <div>
        ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” 'í† ì¿ 'ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í™œë™í•˜ëŠ” ë§ì°¨ ì¡±ì œë¹„ í† ì¿ ì…ë‹ˆë‹¤.<br>
        ì œ ì´ë¦„ì€ ì¼ë³¸ì–´ë¡œ 'í’€ë‹¤'ë¥¼ ì˜ë¯¸í•˜ëŠ” 'í† ì¿ 'ì—ì„œ ìœ ë˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì €ëŠ” ë‹¤ì–‘í•œ ì°½ì‘ í™œë™ì„ í†µí•´ ì—¬ëŸ¬ë¶„ê³¼ ì†Œí†µí•˜ê³ ì í•©ë‹ˆë‹¤.
      </div>
      <div>
        ì €ëŠ” ì£¼ë¡œ í¼ìŠˆíŒ…, í¼ìŠˆíŠ¸ ì œì‘ ì‘ì—…ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤. í¼ìŠˆíŒ…ì€ ì €ì˜ ì—´ì •ì´ì ì°½ì‘ì˜ ì›ì²œì…ë‹ˆë‹¤.<br>
        ë˜í•œ, í¼ìŠˆíŠ¸ ì œì‘ ì‘ì—…ì„ í†µí•´ ì €ë§Œì˜ ë…íŠ¹í•œ ìŠ¤íƒ€ì¼ê³¼ ì•„ì´ë””ì–´ë¥¼ í‘œí˜„í•˜ê³  ìˆìŠµë‹ˆë‹¤.
      </div>
      <div>
        ì €ëŠ” ì œ ì‘í’ˆì„ í†µí•´ ì—¬ëŸ¬ë¶„ê³¼ ì†Œí†µí•˜ê³ , ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.<br>
        ì œ ì‘ì—…ì— ê´€ì‹¬ì´ ìˆìœ¼ì‹œë‹¤ë©´ ì–¸ì œë“ ì§€ ì—°ë½í•´ ì£¼ì„¸ìš”. í•¨ê»˜ ì°½ì‘ì˜ ì¦ê±°ì›€ì„ ë‚˜ëˆ„ê³  ì‹¶ìŠµë‹ˆë‹¤!
      </div>
      <div>ê°ì‚¬í•©ë‹ˆë‹¤!</div>
    </div>
  </div>
</FadeInAnimation>
<FadeInAnimation>
  <div class="container">
    í† ì¿ ì˜ ìƒì¼ì€ 2025ë…„ 1ì›” 27ì¼ì´ê³ ,
    í† ì¿ ëŠ” ì§€ê¸ˆ <strong bind:this={ageSpan} on:mouseenter={ageSpanMouseEnter} on:mouseleave={ageSpanMouseLeave} style="text-decoration: dotted underline; font-variant-numeric: tabular-nums;"></strong>ì‚´ì´ì—ìš” ğŸ¤—
  </div>
</FadeInAnimation>

<style>
  .banner-image {
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    background-color: lightgrey;
    position: relative;
    top: -64px;
  }

  .banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 80%, rgba(0, 0, 0, 0.2) 100%);
    pointer-events: none;
  }

  .banner-overlay-text {
    position: absolute;
    bottom: 40px;
    width: 100%;
    text-align: center;
    color: white;
    text-shadow: 0 0 16px rgba(0, 0, 0, 0.5);
    opacity: 80%;
  }

  .banner-scroll-down {
    animation: scrollDown 2s infinite;
  }

  @keyframes scrollDown {
    0%, 100% {
      transform: translateY(0);
      opacity: 1;
    }
    50% {
      transform: translateY(10px);
      opacity: 0.4;
    }
  }

  .container {
    max-width: 900px;
    margin: auto;
    padding: 0 20px;
    text-align: center;
    margin-bottom: 80px;
  }

  @media (max-width: 600px) {
    .container {
      padding: 0 12px;
    }
  }

  .description img {
    filter: drop-shadow(0 2px 0 #A9B58C);
  }

  .description-header {
    font-size: 52px;
    margin-bottom: 40px;
    text-shadow: 0 2px 0 #A9B58C;
  }

  .description-header strong {
    font-weight: 900;
  }

  .description-text div {
    margin-bottom: 16px;
    line-height: 1.6;
  }
</style>
